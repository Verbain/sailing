(this.webpackJsonpsailling=this.webpackJsonpsailling||[]).push([[0],{47:function(e,t,c){},48:function(e,t,c){},84:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c.n(a),i=c(38),s=c.n(i),r=(c(47),c(48),c(3)),l=c(15),o=c(4),d=c(85),j=(c(29),c(0)),u=function(){var e=Object(o.b)().logout;return Object(j.jsx)(d.a,{onClick:function(){return e()},id:"qsLogoutBtn",variant:"danger",className:"btn-margin",children:Object(j.jsx)("span",{class:"iconify-logout","data-icon":"bx:bx-log-out","data-inline":"false"})})},b=function(){var e=Object(o.b)().loginWithRedirect;return Object(j.jsx)(d.a,{onClick:function(){return e()},id:"qsLoginBtn",variant:"primary",className:"btn-margin",children:Object(j.jsx)("span",{class:"iconify-login","data-icon":"bx:bx-log-in","data-inline":"false"})})},m=c(2),O=c.n(m);var h=function(e){var t=e.wallet;return Object(j.jsx)("div",{children:t.wallet})};var p=function(){var e=Object(o.b)(),t=e.isAuthenticated,c=e.user,n=Object(a.useState)([]),i=Object(r.a)(n,2),s=i[0],d=i[1];return Object(a.useEffect)((function(){if(!0===t){var e=c.nickname;O.a.get("/api/playerByName/".concat(e)).then((function(e){return d(e.data)}))}}),[]),Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{id:"burger",children:Object(j.jsx)("span",{id:"burger",class:"iconify-burger","data-icon":"radix-icons:hamburger-menu","data-inline":"false",onClick:function(){document.getElementById("menu").style.width="66%",document.getElementById("burger").style.color="white",document.getElementById("cross").style.display="flex"}})}),Object(j.jsx)("nav",{id:"menu",class:"menu",children:Object(j.jsx)("div",{class:"nav-item",children:Object(j.jsxs)("ul",{class:"menu__list r-list",children:[Object(j.jsx)("div",{id:"cross",children:Object(j.jsx)("span",{id:"cross",class:"iconify-cross","data-icon":"akar-icons:cross","data-inline":"false",onClick:function(){document.getElementById("menu").style.width="0",document.getElementById("burger").style.display="flex"}})}),Object(j.jsx)(l.b,{to:"/",class:"menu__link r-link text-underlined",children:" ACCUEIL "}),Object(j.jsx)(l.b,{to:"/profile",class:"menu__link r-link text-underlined",children:" PROFIL "}),Object(j.jsx)(l.b,{to:"/createMatch",class:"menu__link r-link text-underlined",children:" CR\xc9ER UN MATCH "}),Object(j.jsx)(l.b,{to:"/teams",class:"menu__link r-link text-underlined",children:" MES \xc9QUIPES "}),Object(j.jsx)(l.b,{to:"/shop",class:"menu__link r-link text-underlined",children:" BOUTIQUE"}),Object(j.jsxs)("div",{class:"menu__link r-link",children:[Object(j.jsx)("span",{class:"iconify-wallet","data-icon":"simple-icons:riotgames","data-inline":"false"}),"                            ",s.map((function(e){return Object(j.jsx)(h,{wallet:e},e)}))]}),Object(j.jsx)("div",{class:"menu__link",children:t?Object(j.jsx)(u,{}):Object(j.jsx)(b,{})})]})})})]})};var f=function(e){var t=e.teamName;return Object(j.jsx)("div",{children:Object(j.jsxs)("div",{class:"div-match-1",children:["\xc9QUIPE : ",t.team_name.toLocaleUpperCase()]})})};var x=function(e){var t=e.match,c=Object(a.useState)([]),n=Object(r.a)(c,2),i=n[0],s=n[1];function l(e){var t=e.riotGameId,c=e.match;return null!=t?Object(j.jsx)("button",{class:"btn-3",onClick:function(){O.a.get("/api/matchEnd/".concat(c.id)),window.location="/"},children:Object(j.jsx)("span",{class:"iconify-refresh","data-icon":"clarity:refresh-line","data-inline":"false"})}):Object(j.jsx)("button",{class:"btn-3",onClick:function(){O.a.get("/api/setGameId/".concat(c.id)),window.location="/"},children:Object(j.jsx)("span",{class:"iconify-play","data-icon":"clarity:play-line","data-inline":"false"})})}return Object(a.useEffect)((function(){O.a.get("/api/teamName/".concat(t.id)).then((function(e){return s(e.data)}))}),[]),Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{class:"div-game-info",children:['"',t.game_name,'" | Mise : ',t.mise," SC | RiotGameID : #",t.riot_game_id]}),Object(j.jsx)(l,{match:t,riotGameId:t.riot_game_id}),Object(j.jsx)("div",{class:"div-match-0",children:i.map((function(e){return Object(j.jsx)(f,{teamName:e},e.id)}))})]})},v=c(8),g=c(14);var y=function(e){var t=e.teams;return Object(j.jsx)("option",{value:t.id,children:t.team_name})};var w=function(e){var t=Object(o.b)().isAuthenticated,c=Object(o.b)().user.email,n=e.matchbis,i=e.dataTeam,s=Object(a.useState)([]),l=Object(r.a)(s,2),d=l[0],u=l[1];Object(a.useEffect)((function(){O.a.get("/api/teamName/".concat(n.id)).then((function(e){return u(e.data)}))}),[]);var b=Object(g.a)(),m=b.register,h=b.handleSubmit;return Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{class:"div-game-info",children:[' "',n.game_name,'" | Mise : ',n.mise," SC"]}),Object(j.jsxs)("div",{class:"div-match-0",children:[d.map((function(e){return Object(j.jsx)(f,{teamName:e},e.id)})),Object(j.jsx)("div",{class:"div-match-3",children:Object(j.jsxs)("form",{onSubmit:h((function(e){var a={id:n.id,opponent:e.teamID};n.team_1!==e.teamID&&!0===t?(O.a.get("/api/getPlayerByEmail/".concat(c)).then((function(e){O.a.post("/api/updateOpponent",a).then((function(t){var c={id:e.data.id,amount:n.mise};O.a.post("/api/updateWalletDecremente",c)}))})),window.location="/"):alert("Erreur, vous devez \xeatre connecter pour rejoindre un match avec votre \xe9quipe, deplus une m\xeame \xe9quipe ne peux s'affronter.")})),class:"matchbis-form",children:[Object(j.jsx)("select",Object(v.a)(Object(v.a)({id:"teams"},m("teamID")),{},{children:i.map((function(e){return Object(j.jsx)(y,{teams:e},e.id)}))})),Object(j.jsxs)("button",{type:"submit",class:"btn-2",children:[" ",Object(j.jsx)("span",{class:"iconify-enter","data-icon":"fluent:arrow-enter-left-20-regular","data-inline":"false"})," "]})]})})]})]})};var k=function(){var e=Object(o.b)().user.email,t=Object(a.useState)([]),c=Object(r.a)(t,2),n=c[0],i=c[1],s=Object(a.useState)([]),l=Object(r.a)(s,2),d=l[0],u=l[1],b=Object(a.useState)([]),m=Object(r.a)(b,2),h=m[0],p=m[1],f=Object(a.useState)("Recherche de match"),v=Object(r.a)(f,2),g=v[0],y=v[1];return Object(a.useEffect)((function(){O.a.get("/api/gamesWithOpponent").then((function(e){return i(e.data)})),O.a.get("/api/gamesWithoutOpponent").then((function(e){return u(e.data)})),O.a.get("/api/getPlayerByEmail/".concat(e)).then((function(e){return O.a.get("/api/allTeamOfPlayer/".concat(e.data.id)).then((function(e){return p(e.data)}))}))}),[]),Object(j.jsxs)("div",{class:"div-home-0",children:[Object(j.jsx)("div",{class:"div-home-btn",children:["Recherche de match","Match en cours"].map((function(e){return Object(j.jsxs)("button",{type:"button",class:"slide",onClick:function(){return y(e)},children:[Object(j.jsx)("div",{children:e}),Object(j.jsx)("i",{class:"icon-arrow-right"})]},e)}))}),Object(j.jsxs)("div",{children:["Recherche de match"===g&&Object(j.jsxs)("div",{class:"div-home-2-bis",children:[Object(j.jsx)("h2",{children:" Recherche de match "}),Object(j.jsx)("div",{class:"h2-place"}),Object(j.jsx)("div",{children:d.map((function(e){return Object(j.jsx)(w,{dataTeam:h,matchbis:e},e.id)}))})]}),"Match en cours"===g&&Object(j.jsxs)("div",{class:"div-home-2",children:[Object(j.jsx)("h2",{children:" Match en cours "}),Object(j.jsx)("div",{class:"h2-place"}),Object(j.jsx)("div",{children:n.map((function(e){return Object(j.jsx)(x,{match:e},e.id)}))})]})]})]})};var S=function(){var e=Object(o.b)().user,t=e.nickname,c=e.picture,a=e.email,n=Object(g.a)(),i=n.register,s=n.handleSubmit;return Object(j.jsx)("div",{class:"profile-container",children:Object(j.jsxs)("div",{class:"div-profile-0",children:[Object(j.jsx)("div",{class:"div-profile-1",children:Object(j.jsx)("img",{src:c,alt:"ceci est l'image de profil",class:"profile-img"})}),Object(j.jsxs)("div",{class:"div-profile-2",children:[Object(j.jsx)("div",{class:"div-profile-info",children:Object(j.jsxs)("label",{children:["PSEUDO : ",t]})}),Object(j.jsx)("div",{class:"div-profile-info",children:Object(j.jsxs)("label",{children:["ADRESSE E-MAIL : ",a]})}),Object(j.jsx)("div",{class:"div-profile-info",children:Object(j.jsxs)("form",{onSubmit:s((function(e){var c={opGg:e.opGg,pseudo:t};O.a.post("/api/updateOpGg",c),window.location="/profile"})),children:[Object(j.jsx)("label",{children:" OP.GG : "}),Object(j.jsx)("input",Object(v.a)({},i("opGg"))),Object(j.jsx)("button",{class:"btn-2",type:"submit",children:Object(j.jsx)("span",{class:"iconify-enter","data-icon":"fluent:arrow-enter-left-20-regular","data-inline":"false"})})]})}),Object(j.jsx)("div",{class:"div-profile-info",children:Object(j.jsxs)("form",{onSubmit:s((function(e){var c={pseudo:t,summonerName:e.summonerName,email:a};console.log("~ summonerName :",c.summonerName),console.log("~ playerSummonerName :",c),O.a.post("/api/newPlayer",c),O.a.get("/api/summonername/".concat(c.summonerName)),window.location="/profile"})),children:[Object(j.jsx)("label",{children:" NOM D'INVOCATEUR : "}),Object(j.jsx)("input",Object(v.a)({},i("summonerName"))),Object(j.jsx)("button",{class:"btn-2",type:"submit",children:Object(j.jsx)("span",{class:"iconify-enter","data-icon":"fluent:arrow-enter-left-20-regular","data-inline":"false"})})]})})]})]})})},I=c(28),C=c.n(I);C.a.init("MIXPANEL_TOKEN");var E=function(e){var t=Object(o.b)().user.email,c=e.dataTeam,a=Object(g.a)(),n=a.register,i=a.handleSubmit;return Object(j.jsx)("div",{children:Object(j.jsxs)("form",{class:"form",onSubmit:i((function(e){O.a.get("/api/getPlayerByEmail/".concat(t)).then((function(t){O.a.post("/api/newGame",e).then((function(e){var c={id:t.data.id,amount:e.data.data.mise};O.a.post("/api/updateWalletDecremente",c)}))})),window.location="/",C.a.track("Match created")})),children:[Object(j.jsxs)("div",{class:"form-item",children:[Object(j.jsx)("label",{children:" Nom de la partie : "}),Object(j.jsx)("input",Object(v.a)({},n("gameName")))]}),Object(j.jsxs)("div",{class:"form-item",children:[Object(j.jsx)("label",{for:"teams",children:"\xc9quipe : "}),Object(j.jsx)("select",Object(v.a)(Object(v.a)({id:"teams"},n("team")),{},{children:c.map((function(e){return Object(j.jsx)(y,{teams:e},e.id)}))}))]}),Object(j.jsxs)("div",{class:"form-item",children:[Object(j.jsx)("label",{children:" Mise : "}),Object(j.jsx)("input",Object(v.a)({},n("mise")))]}),Object(j.jsx)("div",{class:"form-item",children:Object(j.jsx)("button",{class:"form-button",type:"submit",children:"Cr\xe9er"})})]})})};var _=function(){var e=Object(o.b)().user.email,t=Object(a.useState)([]),c=Object(r.a)(t,2),n=c[0],i=c[1];return Object(a.useEffect)((function(){O.a.get("/api/getPlayerByEmail/".concat(e)).then((function(e){return O.a.get("/api/allTeamOfPlayer/".concat(e.data.id)).then((function(e){return i(e.data)}))}))}),[]),Object(j.jsx)("div",{class:"div-home-0",children:Object(j.jsx)("div",{class:"div-home-1",children:Object(j.jsx)("div",{class:"div-home-2-form",children:Object(j.jsx)(E,{dataTeam:n})})})})},N=c(5),P=c.n(N),T=c(9);var B=function(e){var t=e.team,c=e.teamComp,a=Object(g.a)(),n=a.register,i=a.handleSubmit,s=function(){var e=Object(T.a)(P.a.mark((function e(a){var n,i,s,r;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!1,c.map((function(e){a.pseudo===e.pseudo&&(alert("Impossible, le joueur est d\xe9j\xe0 dans l'\xe9quipe ".concat(t.team_name,".")),n=!0)})),n){e.next=13;break}return e.next=5,O.a.get("/api/playerByName/".concat(a.pseudo));case 5:return i=e.sent,s=i.data,console.log("playerData :",s),r={playerID:s[0].id,teamID:t.id},e.next=11,O.a.post("/api/addPlayerInTeam",r);case 11:alert("Joueur ajout\xe9 \xe0 l'\xe9quipe ".concat(t.team_name,". ")),window.location="/teams";case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{class:"addplayer-id",children:c.map((function(e){return Object(j.jsx)("div",{class:"addplayer-pseudo",children:e.pseudo})}))}),Object(j.jsxs)("form",{children:[Object(j.jsx)("input",Object(v.a)({},n("pseudo"))),Object(j.jsx)("button",{class:"btn-4",onClick:i(s),type:"submit",children:"Ajouter"}),Object(j.jsx)("button",{class:"btn-4",onClick:i((function(e){var a=!1;console.log("teamComp : ",c),c.forEach((function(c){c.pseudo!==e.pseudo||a||(O.a.get("/api/removePlayerInTeam/".concat(c.id)),alert("Joueur supprimer de l'\xe9quipe ".concat(t.team_name,". ")),a=!0,window.location="/teams")})),a||alert("Impossible, le joueur n'est pas dans l'\xe9quipe ".concat(t.team_name,"."))})),type:"submit",children:"Supprimer"})]})]})};var D=function(e){var t=e.team,c=Object(a.useState)([]),n=Object(r.a)(c,2),i=n[0],s=n[1];return Object(a.useEffect)((function(){O.a.get("/api/teamComposition/".concat(t.id)).then((function(e){return s(e.data)}))}),[]),Object(j.jsx)("div",{class:"team",children:Object(j.jsxs)("div",{class:"teamcard",children:[Object(j.jsxs)("div",{class:"teamcard-info",children:[Object(j.jsxs)("p",{children:[" ",t.team_name.toLocaleUpperCase()," "]}),Object(j.jsx)("button",{class:"btn-team-cross",onClick:function(){window.confirm("\xcates-vous s\xfbre de vouloir supprimer l'\xe9quipe ".concat(t.team_name))&&(O.a.get("/api/removeTeam/".concat(t.id)),window.location="/teams")},type:"submit",children:Object(j.jsx)("span",{class:"iconify-team-cross","data-icon":"akar-icons:cross","data-inline":"false"})})]}),Object(j.jsx)("div",{class:"teamcard-list",children:Object(j.jsx)("li",{children:Object(j.jsx)(B,{team:t,teamComp:i})})})]})})};var M=function(){var e=Object(o.b)().user.email,t=Object(a.useState)([]),c=Object(r.a)(t,2),n=c[0],i=c[1];return Object(a.useEffect)((function(){O.a.get("/api/getPlayerByEmail/".concat(e)).then((function(e){return O.a.get("/api/allTeamOfPlayer/".concat(e.data.id)).then((function(e){return i(e.data)}))}))}),[]),Object(j.jsxs)("div",{class:"teams",children:[Object(j.jsx)("div",{class:"div-team-0",children:Object(j.jsxs)("a",{class:"div-team-1",href:"/teams/createTeam",children:[Object(j.jsx)("span",{class:"iconify-plus add-team-img add-team","data-icon":"fluent:people-team-add-24-filled","data-inline":"false"}),"                    ",Object(j.jsx)("div",{className:"div-team-description",children:"Cr\xe9er une \xe9quipe"})]})}),n.map((function(e){return Object(j.jsx)(D,{team:e},e.id)}))]})},q=function(){return Object(j.jsx)("div",{className:"spinner",children:Object(j.jsx)("img",{src:"https://cdn.auth0.com/blog/auth0-react-sample/assets/loading.svg",alt:"Loading..."})})};var R=function(){var e=Object(o.b)().user.email,t=Object(g.a)(),c=t.register,a=t.handleSubmit;return Object(j.jsx)("div",{children:Object(j.jsxs)("form",{class:"form",onSubmit:a((function(t){O.a.post("/api/newTeam",t).then((function(t){O.a.get("/api/getPlayerByEmail/".concat(e)).then((function(e){var c={playerID:e.data.id,teamID:t.data.id};console.log("~ payload : ",c),O.a.post("/api/addCaptain/",c)}))})),window.location="/teams"})),children:[Object(j.jsxs)("div",{class:"form-item",children:[Object(j.jsx)("label",{children:" Nom de l'\xe9quipe : "}),Object(j.jsx)("input",Object(v.a)({},c("teamName")))]}),Object(j.jsxs)("div",{class:"form-item",children:[Object(j.jsx)("label",{for:"teams",children:"Image d'\xe9quipe ( pas obligatoire ) : "}),Object(j.jsx)("input",Object(v.a)({},c("teamPicture")))]}),Object(j.jsx)("div",{class:"form-item",children:Object(j.jsx)("button",{class:"form-button",type:"submit",children:"Cr\xe9er"})})]})})};var U=function(){return Object(j.jsx)("div",{class:"div-home-0",children:Object(j.jsx)("div",{class:"div-home-1",children:Object(j.jsx)("div",{class:"div-home-2-teamform",children:Object(j.jsx)(R,{})})})})},A=c(40),L=c(6),G=function(e){var t=e.component,c=Object(A.a)(e,["component"]);return Object(j.jsx)(L.a,Object(v.a)({component:Object(o.c)(t,{onRedirecting:function(){return Object(j.jsx)(q,{})}})},c))},F=c(41),Q=Object(F.a)("pk_test_51IucrnF5ZtIQrMXgiui58mFpgHqqXo6I4OyyQDAS3DXIo60oUMcaIpPlmvJXzklnisGydH9QHCH5iaaMaSSUlFTH00QrhV5Z1W"),H=function(e){var t=e.handleClick;return Object(j.jsx)("div",{class:"div-shop",children:Object(j.jsxs)("div",{class:"div-shop-container",children:[Object(j.jsxs)("div",{class:"div-shop-product",children:[Object(j.jsx)("span",{class:"iconify-shop","data-icon":"simple-icons:riotgames","data-inline":"false"}),Object(j.jsxs)("div",{className:"div-shop-description",children:[Object(j.jsx)("h3",{children:"1 SC"}),Object(j.jsx)("h5",{children:"1\u20ac"})]})]}),Object(j.jsx)("button",{class:"btn-4",type:"button",id:"checkout-button",role:"link",onClick:t,children:"Acheter"})]})})},W=function(e){var t=e.message;return Object(j.jsx)("section",{children:Object(j.jsx)("p",{children:t})})};function X(){var e=Object(a.useState)(""),t=Object(r.a)(e,2),c=t[0],n=t[1];Object(a.useEffect)((function(){var e=new URLSearchParams(window.location.search);e.get("success")&&n("Order placed! You will receive an email confirmation."),e.get("canceled")&&n("Order canceled -- continue to shop around and checkout when you're ready.")}),[]);var i=function(){var e=Object(T.a)(P.a.mark((function e(t){var c,a,n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q;case 2:return c=e.sent,e.next=5,fetch("/create-checkout-session",{method:"POST"});case 5:return a=e.sent,e.next=8,a.json();case 8:return n=e.sent,e.next=11,c.redirectToCheckout({sessionId:n.id});case 11:e.sent.error;case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return c?Object(j.jsx)(W,{message:c}):Object(j.jsx)(H,{handleClick:i})}var J=function(){return Object(o.b)().isLoading?Object(j.jsx)(q,{}):Object(j.jsx)(l.a,{children:Object(j.jsx)("div",{className:"App",children:Object(j.jsxs)("header",{className:"App-header",children:[Object(j.jsx)(p,{}),Object(j.jsx)("div",{class:"nav-space"}),Object(j.jsxs)(L.c,{children:[Object(j.jsx)(L.a,{path:"/",exact:!0,component:k}),Object(j.jsx)(G,{path:"/profile",exact:!0,component:S}),Object(j.jsx)(G,{path:"/createMatch",exact:!0,component:_}),Object(j.jsx)(G,{path:"/teams/createTeam",exact:!0,component:U}),Object(j.jsx)(G,{path:"/teams",exact:!0,component:M}),Object(j.jsx)(G,{path:"/shop",exact:!0,component:X})]})]})})})},Y=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,86)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,i=t.getLCP,s=t.getTTFB;c(e),a(e),n(e),i(e),s(e)}))};c(81).config();var z=function(e){var t=e.children;return Object(j.jsx)(o.a,{domain:"dev-cip8s-8m.eu.auth0.com",clientId:"0SfFPnBEQRCjPIKXPYvq6Tes6jODPYOj",redirectUri:window.location.origin,onRedirectCallback:function(){return window.history.replaceState({},document.title,window.location.pathname)},audience:"https://sailing.com/api",children:t})};s.a.render(Object(j.jsx)(n.a.StrictMode,{children:Object(j.jsx)(z,{children:Object(j.jsx)(J,{})})}),document.getElementById("root")),Y()}},[[84,1,2]]]);
//# sourceMappingURL=main.c98946dd.chunk.js.map